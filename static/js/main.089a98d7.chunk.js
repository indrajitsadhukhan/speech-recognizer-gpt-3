(this.webpackJsonpvoicetext=this.webpackJsonpvoicetext||[]).push([[0],{10:function(e,t,n){e.exports=n(21)},15:function(e,t,n){},17:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(8),c=n.n(o),s=(n(15),n(3)),i=n.n(s),u=n(4),l=n(5),p=(n(17),n(6)),f=n(9),m=new(window.SpeechRecognition||window.webkitSpeechRecognition);m.continuous=!0,m.interimResults=!0,m.lang="en-US";var h=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),n=t[0],o=t[1],c=Object(r.useState)(" "),s=Object(l.a)(c,2),h=s[0],d=s[1],b=Object(r.useState)(""),v=Object(l.a)(b,2),w=v[0],x=v[1],g=Object(r.useState)("Start Recording"),j=Object(l.a)(g,2),E=j[0],S=j[1],k=Object(f.useSpeechSynthesis)(),O=k.speak,y=k.cancel,R=function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=8;break}m.start(),m.onend=function(){m.start()},S("Stop Recording"),x("Processing..."),y(),e.next=13;break;case 8:return m.stop(),m.onend=function(){},S("Start Recording"),e.next=13,N();case 13:m.onstart=function(){},m.onresult=function(e){var t=Array.from(e.results).map((function(e){return e[0]})).map((function(e){return e.transcript})).join("");console.log(t),d(t),m.onerror=function(e){console.log(e.error)}};case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function P(e){return T.apply(this,arguments)}function T(){return(T=Object(u.a)(i.a.mark((function e(t){var n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:8080/completion",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:t})});case 2:if(!(n=e.sent).ok){e.next=12;break}return e.next=6,n.json();case 6:return r=e.sent,a=r.bot,console.log(a),e.abrupt("return",a);case 12:return e.abrupt("return","Error: API call failed. Try again..");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var N=function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(h);case 2:t=e.sent,x(t.split("\n").map((function(e){return a.a.createElement("p",null,e)}))),O({text:t}),d("");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement("h1",null,"Speech to text GPT-3 enabled"),a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"box"},a.a.createElement("h2",null,"Input"),a.a.createElement("button",{onClick:Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o((function(e){return!e})),e.next=3,R();case 3:case"end":return e.stop()}}),e)})))},E),a.a.createElement("p",null,h)),a.a.createElement("div",{className:"box"},a.a.createElement("h2",null,"Response from GPT-3"),a.a.createElement(p.a,null,a.a.createElement(p.a.Body,null,w)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(h,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[10,1,2]]]);
//# sourceMappingURL=main.089a98d7.chunk.js.map